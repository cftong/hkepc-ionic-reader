<ion-view class="card-view">
  <ion-nav-title ng-click="vm.openPageSliderPopover($event)" ng-show="vm.page">
    第 {{vm.page}} 頁 <i class="ion-android-arrow-dropdown"></i>
  </ion-nav-title>
  <ion-nav-buttons side="left">
    <button class="button button-icon ion-ios-arrow-thin-left" ng-click="vm.onBack()">
    </button>
  </ion-nav-buttons>
  <ion-content lazy-scroll on-swipe-right="$ionicGoBack()" >
    <div class="spinner">
      <ion-spinner class="spinner-balanced" icon="ripple" ng-show="vm.myreplies.length == 0"></ion-spinner>
    </div>
    <div class="list card" ng-repeat="myreply in vm.myreplies track by $index">
      <a class="item" href="{{::myreply.topic.url}}">
        <span> <small style="color:#999">#{{$index}}</small> <i class="ion-ios-locked" ng-show="::myreply.status == '關閉'"></i> {{::myreply.topic.title}}</span>
        <small class="fright" style="color:#999">{{::myreply.timestamp}}</small>
      </a>
      <a class="item item-icon-right" href="{{::myreply.post.inAppUrl}}">
        <div class="title item-text-wrap" style="color: #222;font-size: 18px;line-height: 25px;font-weight: bold">{{::myreply.post.title}}</div>

        <i class="icon ion-chevron-right icon-accessory"></i>
      </a>
      <a class="item" ng-click="::vm.findMessage(myreply.post.postId,myreply.post.messageId)">
        <i class="icon ion-ios-undo" style="color:#999"> {{::myreply.brief}}</i>
      </a>
    </div>
    <ion-infinite-scroll
        class="ispinner text-center"
        ng-if="vm.hasMoreData()"
        on-infinite="vm.loadMore()"
        spinner="ripple"
        immediate-check="false"
        distance="7%">
    </ion-infinite-scroll>
  </ion-content>
</ion-view>

