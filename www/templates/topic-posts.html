<ion-view view-title="{{topic.name}}">
  <ion-content>
    <div class="spinner">
      <ion-spinner class="spinner-balanced" icon="android" ng-show="pages.length == 0"></ion-spinner>
    </div>
    <ion-list ng-repeat="page in pages">
      <div class="item item-divider">
        第 {{page.num}} 頁
      </div>
      <ion-item
          class="item-remove-animate item-icon-right item-text-wrap"
          ng-repeat="post in page.posts"
          type="item-text-wrap"
          href="#/tab/topics/{{topic.id}}/posts/{{post.id}}/page/1">
        <h2>{{post.name}}</h2>
        <div>
          <small style="color:#aaa">{{post.publishDate}} @ {{post.author.name}}</small>
          <small style="float:right;color:#aaa">{{post.count.reply}} / {{post.count.view}}</small>
        </div>
        <div>
          <a ng-show="post.tag"><small>#{{post.tag}}</small></a>
        </div>

        <i class="icon ion-chevron-right icon-accessory"></i>
      </ion-item>
    </ion-list>
    <style>
      .ispinner .spinner {
        stroke: #32c453;
        fill: #32c453;
      }
    </style>
    <ion-infinite-scroll
        class="ispinner"
        style="text-align: center;"
        on-infinite="loadMore()"
        spinner="android"
        immediate-check="false"
        distance="1%">
    </ion-infinite-scroll>
  </ion-content>
</ion-view>